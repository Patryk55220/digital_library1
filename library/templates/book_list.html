{% extends 'library/base.html' %}
{% block title %}Lista książek{% endblock %}
{% block content %}
<h1>Lista książek</h1>
<form class="row g-2 mb-3" method="get">
    <div class="col-auto">
      <input type="text" name="q" value="{{ request.GET.q }}" placeholder="Szukaj..." class="form-control">
    </div>
    <div class="col-auto form-check">
      <input class="form-check-input" type="checkbox" value="1" id="available" name="available"
             {% if request.GET.available == '1' %}checked{% endif %}>
      <label class="form-check-label" for="available">Tylko dostępne</label>
    </div>
    <div class="col-auto">
      <button class="btn btn-primary" type="submit">Filtruj</button>
    </div>
</form>
<table class="table table-striped">
  <thead><tr><th>Tytuł</th><th>Autor</th><th>Rok</th></tr></thead>
  <tbody>
    {% for book in object_list %}
    <tr>
      <td><a href="{{ book.get_absolute_url|default:'#' }}">{{ book.title }}</a></td>
      <td>{{ book.author }}</td>
      <td>{{ book.year }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="3" class="text-center">Brak wyników</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
